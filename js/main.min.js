"use strict";function w(e){return(w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}window.NodeList&&!NodeList.prototype.forEach&&(NodeList.prototype.forEach=Array.prototype.forEach),function(e,n,a){function s(e,n){return w(e)===n}function o(e){var n=u.className,a=m._config.classPrefix||"";if(v&&(n=n.baseVal),m._config.enableJSClass){var i=new RegExp("(^|\\s)"+a+"no-js(\\s|$)");n=n.replace(i,"$1"+a+"js$2")}m._config.enableClasses&&(n+=" "+a+e.join(" "+a),v?u.className.baseVal=n:u.className=n)}function d(e,n){if("object"==w(e))for(var a in e)l(e,a)&&d(a,e[a]);else{var i=(e=e.toLowerCase()).split("."),t=m[i[0]];if(2==i.length&&(t=t[i[1]]),void 0!==t)return m;n="function"==typeof n?n():n,1==i.length?m[i[0]]=n:(!m[i[0]]||m[i[0]]instanceof Boolean||(m[i[0]]=new Boolean(m[i[0]])),m[i[0]][i[1]]=n),o([(n&&0!=n?"":"no-")+i.join("-")]),m._trigger(e,n)}return m}var r=[],c=[],i={_version:"3.6.0",_config:{classPrefix:"",enableClasses:!0,enableJSClass:!0,usePrefixes:!0},_q:[],on:function(e,n){var a=this;setTimeout(function(){n(a[e])},0)},addTest:function(e,n,a){c.push({name:e,fn:n,options:a})},addAsyncTest:function(e){c.push({name:null,fn:e})}},m=function(){};m.prototype=i,m=new m;var l,t,u=n.documentElement,v="svg"===u.nodeName.toLowerCase();l=s(t={}.hasOwnProperty,"undefined")||s(t.call,"undefined")?function(e,n){return n in e&&s(e.constructor.prototype[n],"undefined")}:function(e,n){return t.call(e,n)},i._l={},i.on=function(e,n){this._l[e]||(this._l[e]=[]),this._l[e].push(n),m.hasOwnProperty(e)&&setTimeout(function(){m._trigger(e,m[e])},0)},i._trigger=function(e,n){if(this._l[e]){var a=this._l[e];setTimeout(function(){var e;for(e=0;e<a.length;e++)(0,a[e])(n)},0),delete this._l[e]}},m._q.push(function(){i.addTest=d}),m.addAsyncTest(function(){function a(a,e,i){function n(e){var n=!(!e||"load"!==e.type)&&1==t.width;d(a,"webp"===a&&n?new Boolean(n):n),i&&i(e)}var t=new Image;t.onerror=n,t.onload=n,t.src=e}var i=[{uri:"data:image/webp;base64,UklGRiQAAABXRUJQVlA4IBgAAAAwAQCdASoBAAEAAwA0JaQAA3AA/vuUAAA=",name:"webp"},{uri:"data:image/webp;base64,UklGRkoAAABXRUJQVlA4WAoAAAAQAAAAAAAAAAAAQUxQSAwAAAABBxAR/Q9ERP8DAABWUDggGAAAADABAJ0BKgEAAQADADQlpAADcAD++/1QAA==",name:"webp.alpha"},{uri:"data:image/webp;base64,UklGRlIAAABXRUJQVlA4WAoAAAASAAAAAAAAAAAAQU5JTQYAAAD/////AABBTk1GJgAAAAAAAAAAAAAAAAAAAGQAAABWUDhMDQAAAC8AAAAQBxAREYiI/gcA",name:"webp.animation"},{uri:"data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAAAAAAfQ//73v/+BiOh/AAA=",name:"webp.lossless"}],e=i.shift();a(e.name,e.uri,function(e){if(e&&"load"===e.type)for(var n=0;n<i.length;n++)a(i[n].name,i[n].uri)})}),function(){var e,n,a,i,t,o;for(var d in c)if(c.hasOwnProperty(d)){if(e=[],(n=c[d]).name&&(e.push(n.name.toLowerCase()),n.options&&n.options.aliases&&n.options.aliases.length))for(a=0;a<n.options.aliases.length;a++)e.push(n.options.aliases[a].toLowerCase());for(i=s(n.fn,"function")?n.fn():n.fn,t=0;t<e.length;t++)1===(o=e[t].split(".")).length?m[o[0]]=i:(!m[o[0]]||m[o[0]]instanceof Boolean||(m[o[0]]=new Boolean(m[o[0]])),m[o[0]][o[1]]=i),r.push((i?"":"no-")+o.join("-"))}}(),o(r),delete i.addTest,delete i.addAsyncTest;for(var A=0;A<m._q.length;A++)m._q[A]();e.Modernizr=m}(window,document);var v=[{id:524901,name:"Москва",nameEn:"moscow"},{id:498817,name:"Санкт-Петербург",nameEn:"st_petersburg"},{id:501175,name:"Ростов-на-Дону",nameEn:"rostov-na-donu"},{id:576116,name:"Благовещенск",nameEn:"blagoveshchensk"},{id:580497,name:"Астрахань",nameEn:"astrakhan"},{id:578072,name:"Белгород",nameEn:"belgorod"},{id:2026070,name:"Брянск",nameEn:"bryansk"},{id:473247,name:"Владимир",nameEn:"vladimir"},{id:472757,name:"Волгоград",nameEn:"volgograd"},{id:472459,name:"Вологда",nameEn:"volgograd"},{id:472045,name:"Воронеж",nameEn:"volgograd"},{id:555312,name:"Иваново",nameEn:"ivanovo"},{id:2023469,name:"Иркутск",nameEn:"irkutsk"},{id:554234,name:"Калининград",nameEn:"kaliningrad"},{id:553915,name:"Калуга",nameEn:"kaluga"},{id:1503901,name:"Кемерово",nameEn:"kemerovo"},{id:548408,name:"Киров",nameEn:"kirov"},{id:543878,name:"Кострома",nameEn:"kostroma"},{id:1501321,name:"Курган",nameEn:"kurgan"},{id:538560,name:"Курск",nameEn:"kursk"},{id:535121,name:"Липецк",nameEn:"lipetsk"},{id:2123628,name:"Магадан",nameEn:"magadan"},{id:2124187,name:"Красногорск",nameEn:"krasnogorsk"},{id:524305,name:"Мурманск",nameEn:"murmansk"},{id:520555,name:"Нижний Новгород",nameEn:"nizhniy-novgorod"},{id:519336,name:"Великий Новгород",nameEn:"velikiy-novgorod"},{id:1496747,name:"Новосибирск",nameEn:"novosibirsk"},{id:1496153,name:"Омск",nameEn:"omsk"},{id:515003,name:"Оренбург",nameEn:"orenburg"},{id:515012,name:"Орел",nameEn:"orel"},{id:519560,name:"Пенза",nameEn:"penza"},{id:504341,name:"Псков",nameEn:"pskov"},{id:500095,name:"Рязань",nameEn:"ryazan"},{id:499099,name:"Самара",nameEn:"samara"},{id:498677,name:"Саратов",nameEn:"saratov"},{id:2119441,name:"Южно-Сахалинск",nameEn:"yuzhno-sahalinsk"},{id:1486209,name:"Екатеринбург",nameEn:"ekaterinburg"},{id:491687,name:"Смоленск",nameEn:"smolensk"},{id:484646,name:"Тамбов",nameEn:"tambov"},{id:480060,name:"Тверь",nameEn:"tver"},{id:1489425,name:"Томск",nameEn:"tomsk"},{id:3165115,name:"Тула",nameEn:"tula"},{id:1488754,name:"Тюмень",nameEn:"tyumen"},{id:479123,name:"Ульяновск",nameEn:"ulyanovsk"},{id:1508291,name:"Челябинск",nameEn:"chelyabinsk"},{id:468902,name:"Ярославль",nameEn:"yaroslavl"},{id:2026643,name:"Биробиджан",nameEn:"birobidzhan"},{id:1503772,name:"Ханты-Мансийск",nameEn:"hanty-mansiisk"},{id:2127202,name:"Анадырь",nameEn:"anadyr"},{id:1493197,name:"Салехард",nameEn:"salehard"},{id:1510853,name:"Барнаул",nameEn:"barnaul"},{id:2025339,name:"Чита",nameEn:"chita"},{id:2122104,name:"Петропавловск-Камчатский",nameEn:"petropalovsk-kamchatskiy"},{id:542420,name:"Краснодар",nameEn:"krasnodar"},{id:1502026,name:"Красноярск",nameEn:"krasnoyarsk"},{id:511196,name:"Пермь",nameEn:"perm"},{id:2013348,name:"Владивосток",nameEn:"vladivostok"},{id:487846,name:"Ставрополь",nameEn:"stavropol"},{id:2022890,name:"Хабаровск",nameEn:"habarovsk"},{id:528293,name:"Майкоп",nameEn:"maikop"},{id:1506271,name:"Горно-Алтайск",nameEn:"gorno-altaisk"},{id:479561,name:"Уфа",nameEn:"ufa"},{id:2014407,name:"Улан-Удэ",nameEn:"ulan-ude"},{id:532096,name:"Махачкала",nameEn:"mahachkala"},{id:6313621,name:"Магас",nameEn:"magas"},{id:563514,name:"Элиста",nameEn:"elista"},{id:569154,name:"Черкесск",nameEn:"cherkessk"},{id:509820,name:"Петрозаводск",nameEn:"petrozavodsk"},{id:485239,name:"Сыктывкар",nameEn:"syktyvkar"},{id:466806,name:"Йошкар-Ола",nameEn:"yoshkar-ola"},{id:498698,name:"Саранск",nameEn:"saransk"},{id:2013159,name:"Якутск",nameEn:"yakutsk"},{id:473249,name:"Владикавказ",nameEn:"vladikavkaz"},{id:551487,name:"Казань",nameEn:"kazan"},{id:1500973,name:"Кызыл",nameEn:"kyzyl"},{id:554840,name:"Ижевск",nameEn:"izhevsk"},{id:1512236,name:"Абакан",nameEn:"abakan"},{id:558418,name:"Грозный",nameEn:"grozniy"},{id:569696,name:"Чебоксары",nameEn:"cheboksary"},{id:694423,name:"Севастополь",nameEn:"sevastopol"},{id:693805,name:"Симферополь",nameEn:"simferopol"},{id:706524,name:"Керчь",nameEn:"kerch"}];!function(){var e,n,a,i,t,s={APIKey:"959d949ddcff86a99efc29f96ae96b38",lang:"ru",pressureMMHg:.75006375541921,kelvin:273.15,initialCity:v[0].id};function o(){var n=!0;return Modernizr.on("webp",function(e){n=!!e}),n}function d(e){return 200<=e.status&&e.status<300?Promise.resolve(e):Promise.reject(new Error(e.statusText))}function r(e){return e.json()}function c(t){var o;return v.forEach(function(e){var n,a,i;e.name==t&&(o=e.id,n=e.id,a=s.APIKey,i=s.lang,fetch("https://api.openweathermap.org/data/2.5/weather?id=".concat(n,"&appid=").concat(a,"&lang=").concat(i)).then(d).then(r).then(function(e){u(e)}).catch(function(e){console.log(e.name),console.log("Ошибка: "+e.message),console.log(e.response)}))}),o}function m(e){return e<=9&&(e="0".concat(e)),e}function l(a){var e,n=document.querySelector(".main-section"),i=window.screen.width,t=0;v.forEach(function(e,n){e.name==a&&(t=n)}),o()&&i<=480&&1==window.devicePixelRatio&&(e="url(img/".concat(v[t].nameEn,"-480@1x.webp)")),o()&&i<=480&&1.2<=window.devicePixelRatio&&(e="url(img/".concat(v[t].nameEn,"-480@2x.webp)")),o()&&480<i&&1==window.devicePixelRatio&&(e="url(img/".concat(v[t].nameEn,"-560@1x.webp)")),o()&&480<i&&1.2<=window.devicePixelRatio&&(e="url(img/".concat(v[t].nameEn,"-560@2x.webp)")),o()&&560<i&&1==window.devicePixelRatio&&(e="url(img/".concat(v[t].nameEn,"-800@1x.webp)")),o()&&560<i&&1.2<=window.devicePixelRatio&&(e="url(img/".concat(v[t].nameEn,"-800@2x.webp)")),o()&&800<i&&1==window.devicePixelRatio&&(e="url(img/".concat(v[t].nameEn,"-1024@1x.webp)")),o()&&800<i&&1.2<=window.devicePixelRatio&&(e="url(img/".concat(v[t].nameEn,"-1024@2x.webp)")),o()&&1024<i&&1==window.devicePixelRatio&&(e="url(img/".concat(v[t].nameEn,"-1200@1x.webp)")),o()&&1024<i&&1.2<=window.devicePixelRatio&&(e="url(img/".concat(v[t].nameEn,"-1200@2x.webp)")),!o()&&i<=480&&1==window.devicePixelRatio&&(e="url(img/".concat(v[t].nameEn,"-480@1x.jpg)")),!o()&&i<=480&&1.2<=window.devicePixelRatio&&(e="url(img/".concat(v[t].nameEn,"-480@2x.jpg)")),!o()&&480<i&&1==window.devicePixelRatio&&(e="url(img/".concat(v[t].nameEn,"-560@1x.jpg)")),!o()&&480<i&&1.2<=window.devicePixelRatio&&(e="url(img/".concat(v[t].nameEn,"-560@2x.jpg)")),!o()&&560<i&&1==window.devicePixelRatio&&(e="url(img/".concat(v[t].nameEn,"-800@1x.jpg})")),!o()&&560<i&&1.2<=window.devicePixelRatio&&(e="url(img/".concat(v[t].nameEn,"-800@2x.jpg)")),!o()&&800<i&&1==window.devicePixelRatio&&(e="url(img/".concat(v[t].nameEn,"-1024@1x.jpg)")),!o()&&800<i&&1.2<=window.devicePixelRatio&&(e="url(img/".concat(v[t].nameEn,"-1024@2x.jpg)")),!o()&&1024<i&&1==window.devicePixelRatio&&(e="url(img/".concat(v[t].nameEn,"-1200@1x.jpg)")),!o()&&1024<i&&1.2<=window.devicePixelRatio&&(e="url(img/".concat(v[t].nameEn,"-1200@2x.jpg)")),n.style.backgroundImage=e}function u(d){document.querySelector(".widgets-wrap").innerHTML="",v.forEach(function(e){if(e.name==d.name){var n='<div class="widget">\n                      <div class="widget__city">'.concat(e.name,"</div>"),a="".concat(function(){var e=new Date,n=m(e.getHours()),a=m(e.getMinutes()),i=m(e.getDate()),t=e.getMonth();0==t&&(t="января"),1==t&&(t="февраля"),2==t&&(t="марта"),3==t&&(t="апреля"),4==t&&(t="мая"),5==t&&(t="июня"),6==t&&(t="июля"),7==t&&(t="августа"),8==t&&(t="сентября"),9==t&&(t="октября"),10==t&&(t="ноября"),11==t&&(t="декабря");var o=m(e.getFullYear());return'<div class="widget__date-time">\n                  <div class="widget__date">'.concat(i," ").concat(t," ").concat(o,'</div>\n                  <div class="widget__time">').concat(n,":").concat(a," (мск)</div>\n                </div>")}()),i='<div class="widget__icon"><img class="weather-icon" src="https://openweathermap.org/img/wn/'.concat(d.weather[0].icon,'@2x.png"></div>\n                      <div class="widget__temp">').concat(Math.round(d.main.temp_min-s.kelvin),"...").concat(Math.round(d.main.temp_max-s.kelvin),'°C</div>\n                      <div class="widget-data">\n                        <div class="data-block">\n                          <div class="data__title">Давление (мм рт.ст.): </div>\n                          <div class="data__num pressure">').concat(Math.round(d.main.pressure*s.pressureMMHg),'</div>\n                        </div>\n                        <div class="data-block">\n                          <div class="data__title">Влажность: </div>\n                          <div class="data__num humidity">').concat(d.main.humidity,'%</div>\n                        </div>\n                        <div class="data-block">\n                          <div class="data__title">Облачность: </div>\n                          <div class="data__num cloud">').concat(d.clouds.all,'%</div>\n                        </div>\n                        <div class="data-block">\n                          <div class="data__title">Осадки: </div>\n                          <div class="data__num precipitation">').concat(d.weather[0].description,'</div>\n                        </div>\n                        <div class="data-block">\n                          <div class="data__title">Направление ветра: </div>\n                          <div class="data__num wind-direction">').concat((t=d.wind.deg,o="северный",22<=t&&t<45&&(o="северо-северо-восточный"),45<=t&&t<67&&(o="северо-восточный"),67<=t&&t<90&&(o="востоко-северо-восточный"),90<=t&&t<112&&(o="восточный"),112<=t&&t<135&&(o="востоко-юго-восточный"),135<=t&&t<157&&(o="юго-восточный"),157<=t&&t<180&&(o="юго-юго-восточный"),180<=t&&t<202&&(o="южный"),202<=t&&t<225&&(o="юго-юго-западный"),225<=t&&t<247&&(o="юго-западный"),247<=t&&t<270&&(o="западо-юго-западный"),270<=t&&t<292&&(o="западный"),292<=t&&t<315&&(o="западо-северо-западный"),315<=t&&t<337&&(o="северо-западный"),337<=t&&t<359&&(o="северо-северо-западный"),o),'</div>\n                        </div>\n                        <div class="data-block">\n                          <div class="data__title">Сила ветра: </div>\n                          <div class="data__num wind-speed">').concat(Math.round(d.wind.speed)," м/с</div>\n                        </div>\n                      </div>\n                    </div>");document.querySelector(".widgets-wrap").innerHTML+=n+a+i}var t,o})}e=s.initialCity,n=s.APIKey,a=s.lang,fetch("https://api.openweathermap.org/data/2.5/weather?id=".concat(e,"&appid=").concat(n,"&lang=").concat(a)).then(d).then(r).then(function(e){u(e)}).catch(function(e){console.log(e.name),console.log("Ошибка: "+e.message),console.log(e.response)}),i=document.getElementById("autocomplete"),t=document.querySelector(".cities-list"),i.addEventListener("input",function(){t.innerHTML="",t.classList.remove("cities-list--active");var e,n,a=i.value.trim();""!=a&&(i.value=i.value[0].toUpperCase()+i.value.slice(1),(e=v,n=[],e.forEach(function(e){n.push(e.name),n.sort()}),n).forEach(function(e){if(a.toUpperCase()==e.substr(0,a.length).toUpperCase()){var n=document.createElement("li");n.classList.add("cities__item"),n.textContent=e,t.classList.add("cities-list--active"),t.appendChild(n),i.classList.add("input-active")}}),document.querySelectorAll(".cities__item").forEach(function(e){e.addEventListener("click",function(){i.value=e.textContent,c(i.value),l(i.value),i.value="",i.classList.remove("input-active"),t.innerHTML="",t.classList.remove("cities-list--active")}),e.addEventListener("touch",function(){i.value=e.textContent,c(i.value),t.innerHTML="",t.classList.remove("cities-list--active"),i.classList.remove("input-active")})}))}),l()}(),function(){if("undefined"!=typeof window&&window.addEventListener){var n,u=Object.create(null),v=function(){clearTimeout(n),n=setTimeout(a,100)},A=function(){},w=function(e){function n(e){if(void 0!==e.protocol)var n=e;else(n=document.createElement("a")).href=e;return n.protocol.replace(/:/g,"")+n.host}if(window.XMLHttpRequest){var a=new XMLHttpRequest,i=n(location);e=n(e),a=void 0===a.withCredentials&&""!==e&&e!==i?XDomainRequest||void 0:XMLHttpRequest}return a},a=function(){function i(){0===--d&&(A(),function(){if(window.addEventListener("resize",v,!1),window.addEventListener("orientationchange",v,!1),window.MutationObserver){var e=new MutationObserver(v);e.observe(document.documentElement,{childList:!0,subtree:!0,attributes:!0}),A=function(){try{e.disconnect(),window.removeEventListener("resize",v,!1),window.removeEventListener("orientationchange",v,!1)}catch(e){}}}else document.documentElement.addEventListener("DOMSubtreeModified",v,!1),A=function(){document.documentElement.removeEventListener("DOMSubtreeModified",v,!1),window.removeEventListener("resize",v,!1),window.removeEventListener("orientationchange",v,!1)}}())}function e(e){return function(){!0!==u[e.base]&&(e.useEl.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href","#"+e.hash),e.useEl.hasAttribute("href")&&e.useEl.setAttribute("href","#"+e.hash))}}function n(a){return function(){var e=document.body,n=document.createElement("x");a.onload=null,n.innerHTML=a.responseText,(n=n.getElementsByTagName("svg")[0])&&(n.setAttribute("aria-hidden","true"),n.style.position="absolute",n.style.width=0,n.style.height=0,n.style.overflow="hidden",e.insertBefore(n,e.firstChild)),i()}}function a(e){return function(){e.onerror=null,e.ontimeout=null,i()}}var t,o,d=0;A();var s=document.getElementsByTagName("use");for(o=0;o<s.length;o+=1){try{var r=s[o].getBoundingClientRect()}catch(e){r=!1}var c=(t=s[o].getAttribute("href")||s[o].getAttributeNS("http://www.w3.org/1999/xlink","href")||s[o].getAttribute("xlink:href"))&&t.split?t.split("#"):["",""],m=c[0];c=c[1];var l=r&&0===r.left&&0===r.right&&0===r.top&&0===r.bottom;r&&0===r.width&&0===r.height&&!l?(s[o].hasAttribute("href")&&s[o].setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",t),m.length&&(!0!==(t=u[m])&&setTimeout(e({useEl:s[o],base:m,hash:c}),0),void 0===t&&(void 0!==(c=w(m))&&(t=new c,(u[m]=t).onload=n(t),t.onerror=a(t),t.ontimeout=a(t),t.open("GET",m),t.send(),d+=1)))):l?m.length&&u[m]&&setTimeout(e({useEl:s[o],base:m,hash:c}),0):void 0===u[m]?u[m]=!0:u[m].onload&&(u[m].abort(),delete u[m].onload,u[m]=!0)}s="",d+=1,i()},e=function e(){window.removeEventListener("load",e,!1),n=setTimeout(a,0)};"complete"!==document.readyState?window.addEventListener("load",e,!1):e()}}();