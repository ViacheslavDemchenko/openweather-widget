"use strict";function w(e){return(w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}window.NodeList&&!NodeList.prototype.forEach&&(NodeList.prototype.forEach=Array.prototype.forEach),function(e,i,n){function m(e,i){return w(e)===i}function o(e){var i=l.className,n=r._config.classPrefix||"";if(u&&(i=i.baseVal),r._config.enableJSClass){var t=new RegExp("(^|\\s)"+n+"no-js(\\s|$)");i=i.replace(t,"$1"+n+"js$2")}r._config.enableClasses&&(i+=" "+n+e.join(" "+n),u?l.className.baseVal=i:l.className=i)}function s(e,i){if("object"==w(e))for(var n in e)g(e,n)&&s(n,e[n]);else{var t=(e=e.toLowerCase()).split("."),a=r[t[0]];if(2==t.length&&(a=a[t[1]]),void 0!==a)return r;i="function"==typeof i?i():i,1==t.length?r[t[0]]=i:(!r[t[0]]||r[t[0]]instanceof Boolean||(r[t[0]]=new Boolean(r[t[0]])),r[t[0]][t[1]]=i),o([(i&&0!=i?"":"no-")+t.join("-")]),r._trigger(e,i)}return r}var d=[],c=[],t={_version:"3.6.0",_config:{classPrefix:"",enableClasses:!0,enableJSClass:!0,usePrefixes:!0},_q:[],on:function(e,i){var n=this;setTimeout(function(){i(n[e])},0)},addTest:function(e,i,n){c.push({name:e,fn:i,options:n})},addAsyncTest:function(e){c.push({name:null,fn:e})}},r=function(){};r.prototype=t,r=new r;var g,a,l=i.documentElement,u="svg"===l.nodeName.toLowerCase();g=m(a={}.hasOwnProperty,"undefined")||m(a.call,"undefined")?function(e,i){return i in e&&m(e.constructor.prototype[i],"undefined")}:function(e,i){return a.call(e,i)},t._l={},t.on=function(e,i){this._l[e]||(this._l[e]=[]),this._l[e].push(i),r.hasOwnProperty(e)&&setTimeout(function(){r._trigger(e,r[e])},0)},t._trigger=function(e,i){if(this._l[e]){var n=this._l[e];setTimeout(function(){var e;for(e=0;e<n.length;e++)(0,n[e])(i)},0),delete this._l[e]}},r._q.push(function(){t.addTest=s}),r.addAsyncTest(function(){function n(n,e,t){function i(e){var i=!(!e||"load"!==e.type)&&1==a.width;s(n,"webp"===n&&i?new Boolean(i):i),t&&t(e)}var a=new Image;a.onerror=i,a.onload=i,a.src=e}var t=[{uri:"data:image/webp;base64,UklGRiQAAABXRUJQVlA4IBgAAAAwAQCdASoBAAEAAwA0JaQAA3AA/vuUAAA=",name:"webp"},{uri:"data:image/webp;base64,UklGRkoAAABXRUJQVlA4WAoAAAAQAAAAAAAAAAAAQUxQSAwAAAABBxAR/Q9ERP8DAABWUDggGAAAADABAJ0BKgEAAQADADQlpAADcAD++/1QAA==",name:"webp.alpha"},{uri:"data:image/webp;base64,UklGRlIAAABXRUJQVlA4WAoAAAASAAAAAAAAAAAAQU5JTQYAAAD/////AABBTk1GJgAAAAAAAAAAAAAAAAAAAGQAAABWUDhMDQAAAC8AAAAQBxAREYiI/gcA",name:"webp.animation"},{uri:"data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAAAAAAfQ//73v/+BiOh/AAA=",name:"webp.lossless"}],e=t.shift();n(e.name,e.uri,function(e){if(e&&"load"===e.type)for(var i=0;i<t.length;i++)n(t[i].name,t[i].uri)})}),function(){var e,i,n,t,a,o;for(var s in c)if(c.hasOwnProperty(s)){if(e=[],(i=c[s]).name&&(e.push(i.name.toLowerCase()),i.options&&i.options.aliases&&i.options.aliases.length))for(n=0;n<i.options.aliases.length;n++)e.push(i.options.aliases[n].toLowerCase());for(t=m(i.fn,"function")?i.fn():i.fn,a=0;a<e.length;a++)1===(o=e[a].split(".")).length?r[o[0]]=t:(!r[o[0]]||r[o[0]]instanceof Boolean||(r[o[0]]=new Boolean(r[o[0]])),r[o[0]][o[1]]=t),d.push((t?"":"no-")+o.join("-"))}}(),o(d),delete t.addTest,delete t.addAsyncTest;for(var p=0;p<r._q.length;p++)r._q[p]();e.Modernizr=r}(window,document),function(){var e,i,n,t,a,m=[{id:524901,name:"Москва",images:{images_480:{imgWebp_1x:"img/moscow-480@1x.webp",imgWebp_2x:"img/moscow-480@2x.webp",imgJpg_1x:"img/moscow-480@1x.jpg",imgJpg_2x:"img/moscow-480@2x.jpg"},images_560:{imgWebp_1x:"img/moscow-560@1x.webp",imgWebp_2x:"/img/moscow-560@2x.webp",imgJpg_1x:"img/moscow-560@1x.jpg",imgJpg_2x:"img/moscow-560@2x.jpg"},images_800:{imgWebp_1x:"img/moscow-800@1x.webp",imgWebp_2x:"img/moscow-800@2x.webp",imgJpg_1x:"img/moscow-800@1x.jpg",imgJpg_2x:"img/moscow-800@2x.jpg"},images_1024:{imgWebp_1x:"img/moscow-1024@1x.webp",imgWebp_2x:"img/moscow-1024@2x.webp",imgJpg_1x:"img/moscow-1024@1x.jpg",imgJpg_2x:"img/moscow-1024@2x.jpg"},images_1200:{imgWebp_1x:"img/moscow-1200@1x.webp",imgWebp_2x:"img/moscow-1200@2x.webp",imgJpg_1x:"img/moscow-1200@1x.jpg",imgJpg_2x:"img/moscow-1200@2x.jpg"}}},{id:498817,name:"Санкт-Петербург",images:{images_480:{imgWebp_1x:"img/st_petersburg-480@1x.webp",imgWebp_2x:"img/st_petersburg-480@2x.webp",imgJpg_1x:"img/st_petersburg-480@1x.jpg",imgJpg_2x:"img/st_petersburg-480@2x.jpg"},images_560:{imgWebp_1x:"img/st_petersburg-560@1x.webp",imgWebp_2x:"/img/st_petersburg-560@2x.webp",imgJpg_1x:"img/st_petersburg-560@1x.jpg",imgJpg_2x:"img/st_petersburg-560@2x.jpg"},images_800:{imgWebp_1x:"img/st_petersburg-800@1x.webp",imgWebp_2x:"img/st_petersburg-800@2x.webp",imgJpg_1x:"img/st_petersburg-800@1x.jpg",imgJpg_2x:"img/st_petersburg-800@2x.jpg"},images_1024:{imgWebp_1x:"img/st_petersburg-1024@1x.webp",imgWebp_2x:"img/st_petersburg-1024@2x.webp",imgJpg_1x:"img/st_petersburg-1024@1x.jpg",imgJpg_2x:"img/st_petersburg-1024@2x.jpg"},images_1200:{imgWebp_1x:"img/st_petersburg-1200@1x.webp",imgWebp_2x:"img/st_petersburg-1200@2x.webp",imgJpg_1x:"img/st_petersburg-1200@1x.jpg",imgJpg_2x:"img/st_petersburg-1200@2x.jpg"}}},{id:501175,name:"Ростов-на-Дону"},{id:576116,name:"Благовещенск"},{id:580497,name:"Астрахань"},{id:578072,name:"Белгород"},{id:2026070,name:"Брянск"},{id:473247,name:"Владимир"},{id:472757,name:"Волгоград"},{id:472459,name:"Вологда"},{id:472045,name:"Воронеж"},{id:555312,name:"Иваново"},{id:2023469,name:"Иркутск"},{id:554234,name:"Калининград"},{id:553915,name:"Калуга"},{id:1503901,name:"Кемерово"},{id:548408,name:"Киров"},{id:543878,name:"Кострома"},{id:1501321,name:"Курган"},{id:538560,name:"Курск"},{id:535121,name:"Липецк"},{id:2123628,name:"Магадан"},{id:2124187,name:"Красногорск"},{id:524305,name:"Мурманск"},{id:520555,name:"Нижний Новгород"},{id:519336,name:"Великий Новгород"},{id:1496747,name:"Новосибирск"},{id:1496153,name:"Омск"},{id:515003,name:"Оренбург"},{id:515012,name:"Орел"},{id:519560,name:"Пенза"},{id:504341,name:"Псков"},{id:500095,name:"Рязань"},{id:499099,name:"Самара"},{id:498677,name:"Саратов"},{id:2119441,name:"Южно-Сахалинск"},{id:1486209,name:"Екатеринбург"},{id:491687,name:"Смоленск"},{id:484646,name:"Тамбов"},{id:480060,name:"Тверь"},{id:1489425,name:"Томск"},{id:3165115,name:"Тула"},{id:1488754,name:"Тюмень"},{id:479123,name:"Ульяновск"},{id:1508291,name:"Челябинск"},{id:468902,name:"Ярославль"},{id:2026643,name:"Биробиджан"},{id:1503772,name:"Ханты-Мансийск"},{id:2127202,name:"Анадырь"},{id:1493197,name:"Салехард"},{id:1510853,name:"Барнаул"},{id:2025339,name:"Чита"},{id:2122104,name:"Петропавловск-Камчатский"},{id:542420,name:"Краснодар"},{id:1502026,name:"Красноярск"},{id:511196,name:"Пермь"},{id:2013348,name:"Владивосток"},{id:487846,name:"Ставрополь"},{id:2022890,name:"Хабаровск"},{id:528293,name:"Майкоп"},{id:1506271,name:"Горно-Алтайск"},{id:479561,name:"Уфа"},{id:2014407,name:"Улан-Удэ"},{id:532096,name:"Махачкала"},{id:6313621,name:"Магас"},{id:563514,name:"Элиста"},{id:569154,name:"Черкесск"},{id:509820,name:"Петрозаводск"},{id:485239,name:"Сыктывкар"},{id:466806,name:"Йошкар-Ола"},{id:498698,name:"Саранск"},{id:2013159,name:"Якутск"},{id:473249,name:"Владикавказ"},{id:551487,name:"Казань"},{id:1500973,name:"Кызыл"},{id:554840,name:"Ижевск"},{id:1512236,name:"Абакан"},{id:558418,name:"Грозный"},{id:569696,name:"Чебоксары"},{id:694423,name:"Севастополь"},{id:693805,name:"Симферополь"},{id:706524,name:"Керчь"}],d={APIKey:"959d949ddcff86a99efc29f96ae96b38",lang:"ru",pressureMMHg:.75006375541921,kelvin:273.15,initialCity:m[0].id};function o(){var i=!0;return Modernizr.on("webp",function(e){i=!!e}),i}function s(e){return 200<=e.status&&e.status<300?Promise.resolve(e):Promise.reject(new Error(e.statusText))}function c(e){return e.json()}function r(a){var o;return m.forEach(function(e){var i,n,t;e.name==a&&(o=e.id,i=e.id,n=d.APIKey,t=d.lang,fetch("https://api.openweathermap.org/data/2.5/weather?id=".concat(i,"&appid=").concat(n,"&lang=").concat(t)).then(s).then(c).then(function(e){u(e)}).catch(function(e){console.log(e.name),console.log("Ошибка: "+e.message),console.log(e.response)}))}),o}function g(e){return e<=9&&(e="0".concat(e)),e}function l(n){var e,i=document.querySelector(".main-section"),t=window.screen.width,a=0;m.forEach(function(e,i){e.name==n&&(a=i)}),o()&&t<=480&&1==window.devicePixelRatio&&(e="url(".concat(m[a].images.images_480.imgWebp_1x,")")),o()&&t<=480&&1.2<=window.devicePixelRatio&&(e="url(".concat(m[a].images.images_480.imgWebp_2x,")")),o()&&480<t&&1==window.devicePixelRatio&&(e="url(".concat(m[a].images.images_560.imgWebp_1x,")")),o()&&480<t&&1.2<=window.devicePixelRatio&&(e="url(".concat(m[a].images.images_560.imgWebp_2x,")")),o()&&560<t&&1==window.devicePixelRatio&&(e="url(".concat(m[a].images.images_800.imgWebp_1x,")")),o()&&560<t&&1.2<=window.devicePixelRatio&&(e="url(".concat(m[a].images.images_800.imgWebp_2x,")")),o()&&800<t&&1==window.devicePixelRatio&&(e="url(".concat(m[a].images.images_1024.imgWebp_1x,")")),o()&&800<t&&1.2<=window.devicePixelRatio&&(e="url(".concat(m[a].images.images_1024.imgWebp_2x,")")),o()&&1024<t&&1==window.devicePixelRatio&&(e="url(".concat(m[a].images.images_1200.imgWebp_1x,")")),o()&&1024<t&&1.2<=window.devicePixelRatio&&(e="url(".concat(m[a].images.images_1200.imgWebp_2x,")")),!o()&&t<=480&&1==window.devicePixelRatio&&(e="url(".concat(m[a].images.images_480.imgJpg_1x,")")),!o()&&t<=480&&1.2<=window.devicePixelRatio&&(e="url(".concat(m[a].images.images_480.imgJpg_2x,")")),!o()&&480<t&&1==window.devicePixelRatio&&(e="url(".concat(m[a].images.images_560.imgJpg_1x,")")),!o()&&480<t&&1.2<=window.devicePixelRatio&&(e="url(".concat(m[a].images.images_560.imgJpg_2x,")")),!o()&&560<t&&1==window.devicePixelRatio&&(e="url(".concat(m[a].images.images_800.imgJpg_1x,")")),!o()&&560<t&&1.2<=window.devicePixelRatio&&(e="url(".concat(m[a].images.images_800.imgJpg_2x,")")),!o()&&800<t&&1==window.devicePixelRatio&&(e="url(".concat(m[a].images.images_1024.imgJpg_1x,")")),!o()&&800<t&&1.2<=window.devicePixelRatio&&(e="url(".concat(m[a].images.images_1024.imgJpg_2x,")")),!o()&&1024<t&&1==window.devicePixelRatio&&(e="url(".concat(m[a].images.images_1200.imgJpg_1x,")")),!o()&&1024<t&&1.2<=window.devicePixelRatio&&(e="url(".concat(m[a].images.images_1200.imgJpg_2x,")")),i.style.backgroundImage=e}function u(s){document.querySelector(".widgets-wrap").innerHTML="",m.forEach(function(e){if(e.name==s.name){var i='<div class="widget">\n                      <div class="widget__city">'.concat(e.name,"</div>"),n="".concat(function(){var e=new Date,i=g(e.getHours()),n=g(e.getMinutes()),t=g(e.getDate()),a=e.getMonth();0==a&&(a="января"),1==a&&(a="февраля"),2==a&&(a="марта"),3==a&&(a="апреля"),4==a&&(a="мая"),5==a&&(a="июня"),6==a&&(a="июля"),7==a&&(a="августа"),8==a&&(a="сентября"),9==a&&(a="октября"),10==a&&(a="ноября"),11==a&&(a="декабря");var o=g(e.getFullYear());return'<div class="widget__date-time">\n                  <div class="widget__date">'.concat(t," ").concat(a," ").concat(o,'</div>\n                  <div class="widget__time">').concat(i,":").concat(n," (мск)</div>\n                </div>")}()),t='<div class="widget__icon"><img class="weather-icon" src="https://openweathermap.org/img/wn/'.concat(s.weather[0].icon,'@2x.png"></div>\n                      <div class="widget__temp">').concat(Math.round(s.main.temp_min-d.kelvin),"...").concat(Math.round(s.main.temp_max-d.kelvin),'°C</div>\n                      <div class="widget-data">\n                        <div class="data-block">\n                          <div class="data__title">Давление (мм рт.ст.): </div>\n                          <div class="data__num pressure">').concat(Math.round(s.main.pressure*d.pressureMMHg),'</div>\n                        </div>\n                        <div class="data-block">\n                          <div class="data__title">Влажность: </div>\n                          <div class="data__num humidity">').concat(s.main.humidity,'%</div>\n                        </div>\n                        <div class="data-block">\n                          <div class="data__title">Облачность: </div>\n                          <div class="data__num cloud">').concat(s.clouds.all,'%</div>\n                        </div>\n                        <div class="data-block">\n                          <div class="data__title">Осадки: </div>\n                          <div class="data__num precipitation">').concat(s.weather[0].description,'</div>\n                        </div>\n                        <div class="data-block">\n                          <div class="data__title">Направление ветра: </div>\n                          <div class="data__num wind-direction">').concat((a=s.wind.deg,o="северный",22<=a&&a<45&&(o="северо-северо-восточный"),45<=a&&a<67&&(o="северо-восточный"),67<=a&&a<90&&(o="востоко-северо-восточный"),90<=a&&a<112&&(o="восточный"),112<=a&&a<135&&(o="востоко-юго-восточный"),135<=a&&a<157&&(o="юго-восточный"),157<=a&&a<180&&(o="юго-юго-восточный"),180<=a&&a<202&&(o="южный"),202<=a&&a<225&&(o="юго-юго-западный"),225<=a&&a<247&&(o="юго-западный"),247<=a&&a<270&&(o="западо-юго-западный"),270<=a&&a<292&&(o="западный"),292<=a&&a<315&&(o="западо-северо-западный"),315<=a&&a<337&&(o="северо-западный"),337<=a&&a<359&&(o="северо-северо-западный"),o),'</div>\n                        </div>\n                        <div class="data-block">\n                          <div class="data__title">Сила ветра: </div>\n                          <div class="data__num wind-speed">').concat(Math.round(s.wind.speed)," м/с</div>\n                        </div>\n                      </div>\n                    </div>");document.querySelector(".widgets-wrap").innerHTML+=i+n+t}var a,o})}e=d.initialCity,i=d.APIKey,n=d.lang,fetch("https://api.openweathermap.org/data/2.5/weather?id=".concat(e,"&appid=").concat(i,"&lang=").concat(n)).then(s).then(c).then(function(e){u(e)}).catch(function(e){console.log(e.name),console.log("Ошибка: "+e.message),console.log(e.response)}),t=document.getElementById("autocomplete"),a=document.querySelector(".cities-list"),t.addEventListener("input",function(){a.innerHTML="",a.classList.remove("cities-list--active");var e,i,n=t.value.trim();""!=n&&(t.value=t.value[0].toUpperCase()+t.value.slice(1),(e=m,i=[],e.forEach(function(e){i.push(e.name),i.sort()}),i).forEach(function(e){if(n.toUpperCase()==e.substr(0,n.length).toUpperCase()){var i=document.createElement("li");i.classList.add("cities__item"),i.textContent=e,a.classList.add("cities-list--active"),a.appendChild(i)}}),document.querySelectorAll(".cities__item").forEach(function(e){e.addEventListener("click",function(){t.value=e.textContent,r(t.value),l(t.value),a.innerHTML="",a.classList.remove("cities-list--active")}),e.addEventListener("touch",function(){t.value=e.textContent,r(t.value),a.innerHTML="",a.classList.remove("cities-list--active")})}))}),l()}(),function(){if("undefined"!=typeof window&&window.addEventListener){var i,l=Object.create(null),u=function(){clearTimeout(i),i=setTimeout(n,100)},p=function(){},w=function(e){function i(e){if(void 0!==e.protocol)var i=e;else(i=document.createElement("a")).href=e;return i.protocol.replace(/:/g,"")+i.host}if(window.XMLHttpRequest){var n=new XMLHttpRequest,t=i(location);e=i(e),n=void 0===n.withCredentials&&""!==e&&e!==t?XDomainRequest||void 0:XMLHttpRequest}return n},n=function(){function t(){0===--s&&(p(),function(){if(window.addEventListener("resize",u,!1),window.addEventListener("orientationchange",u,!1),window.MutationObserver){var e=new MutationObserver(u);e.observe(document.documentElement,{childList:!0,subtree:!0,attributes:!0}),p=function(){try{e.disconnect(),window.removeEventListener("resize",u,!1),window.removeEventListener("orientationchange",u,!1)}catch(e){}}}else document.documentElement.addEventListener("DOMSubtreeModified",u,!1),p=function(){document.documentElement.removeEventListener("DOMSubtreeModified",u,!1),window.removeEventListener("resize",u,!1),window.removeEventListener("orientationchange",u,!1)}}())}function e(e){return function(){!0!==l[e.base]&&(e.useEl.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href","#"+e.hash),e.useEl.hasAttribute("href")&&e.useEl.setAttribute("href","#"+e.hash))}}function i(n){return function(){var e=document.body,i=document.createElement("x");n.onload=null,i.innerHTML=n.responseText,(i=i.getElementsByTagName("svg")[0])&&(i.setAttribute("aria-hidden","true"),i.style.position="absolute",i.style.width=0,i.style.height=0,i.style.overflow="hidden",e.insertBefore(i,e.firstChild)),t()}}function n(e){return function(){e.onerror=null,e.ontimeout=null,t()}}var a,o,s=0;p();var m=document.getElementsByTagName("use");for(o=0;o<m.length;o+=1){try{var d=m[o].getBoundingClientRect()}catch(e){d=!1}var c=(a=m[o].getAttribute("href")||m[o].getAttributeNS("http://www.w3.org/1999/xlink","href")||m[o].getAttribute("xlink:href"))&&a.split?a.split("#"):["",""],r=c[0];c=c[1];var g=d&&0===d.left&&0===d.right&&0===d.top&&0===d.bottom;d&&0===d.width&&0===d.height&&!g?(m[o].hasAttribute("href")&&m[o].setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a),r.length&&(!0!==(a=l[r])&&setTimeout(e({useEl:m[o],base:r,hash:c}),0),void 0===a&&(void 0!==(c=w(r))&&(a=new c,(l[r]=a).onload=i(a),a.onerror=n(a),a.ontimeout=n(a),a.open("GET",r),a.send(),s+=1)))):g?r.length&&l[r]&&setTimeout(e({useEl:m[o],base:r,hash:c}),0):void 0===l[r]?l[r]=!0:l[r].onload&&(l[r].abort(),delete l[r].onload,l[r]=!0)}m="",s+=1,t()},e=function e(){window.removeEventListener("load",e,!1),i=setTimeout(n,0)};"complete"!==document.readyState?window.addEventListener("load",e,!1):e()}}();